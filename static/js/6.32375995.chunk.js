(this["webpackJsonpit-kamasutra"]=this["webpackJsonpit-kamasutra"]||[]).push([[6],{383:function(e,n,r){"use strict";var t=r(8),s=r(49),o=r(50),i=r(52),a=r(51),l=r(0),u=r.n(l),c=r(26),f=r(43),p=r(3),g=function(e){return{isAuth:e.auth.isAuth}};n.a=function(e){var n=function(n){Object(i.a)(l,n);var r=Object(a.a)(l);function l(){return Object(s.a)(this,l),r.apply(this,arguments)}return Object(o.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(e,Object(t.a)({},this.props)):Object(p.jsx)(c.a,{to:"/login"})}}]),l}(u.a.Component);return Object(f.b)(g)(n)}},402:function(e,n,r){"use strict";r.r(n);var t=r(49),s=r(50),o=r(52),i=r(51),a=r(43),l=r(190),u=r(0),c=r.n(u),f=r(198),p=r(399),g=r(375),h=r(203),d=r(147),j=r.n(d),b=r(395),O=r(3);var w=function(e){var n=e.currentPage,r=e.onPaginationChangeHandler,t=e.pagesCount;return Object(O.jsx)(g.b,{children:Object(O.jsx)(b.a,{showSizeChanger:!1,current:n,onChange:r,total:10*t})})},x=r(404),P=r(400),v=r(374),y=r(57),U=r(376),m=function(e){var n=e.isAuth,r=e.photo,t=e.idx,s=e.userId;return Object(O.jsx)("div",{className:"ant-col-5",children:null===r?Object(O.jsx)(x.a,{size:"default",count:t+1,children:Object(O.jsx)(y.b,{disabled:!n,to:"/profile/"+s,children:Object(O.jsx)(v.a,{shape:"square",size:125,style:{backgroundColor:"#87d068"},icon:Object(O.jsx)(U.a,{})})})}):Object(O.jsx)(x.a,{size:"default",count:t+1,children:Object(O.jsx)(y.b,{disabled:!n,to:"/profile/"+s,children:Object(O.jsx)(v.a,{shape:"square",size:125,src:r})})})})},C=function(e){var n=e.followingInProgress,r=n.userId,t=n.toggleMode,s=e.followHandler,o=e.id,i=e.description;return Object(O.jsx)(h.a,{loading:r===o&&t,disabled:r===o&&t,onClick:function(){return s(o)},children:i})},A=function(e){var n=e.user,r=e.isAuth,t=e.idx,s=e.followingInProgress,o=e.followUser,i=e.unfollowUser;return Object(O.jsx)(x.a.Ribbon,{text:n.name,children:Object(O.jsx)(P.a,{className:"ant-row-center",title:n.name,size:"medium",children:Object(O.jsxs)(g.b,{size:"large",children:[Object(O.jsx)(m,{isAuth:r,photo:n.photos.small,idx:t,userId:n.id}),r?n.followed?Object(O.jsx)(C,{followingInProgress:s,followHandler:i,id:n.id,description:"Unfollow"}):Object(O.jsx)(C,{followingInProgress:s,followHandler:o,id:n.id,description:"Follow"}):null]})})})},z=function(e){var n=e.isAuth,r=e.users,t=e.followUser,s=e.unfollowUser,o=e.followingInProgress;return Object(O.jsx)(O.Fragment,{children:r.map((function(e,r){return Object(O.jsx)("div",{className:j.a.users,children:Object(O.jsx)(A,{user:e,isAuth:n,idx:r,followingInProgress:o,followUser:t,unfollowUser:s})},e.id)}))})},I=function(e){var n=e.isAuth,r=e.users,t=e.getFriends,s=e.friendsOnly,o=e.followUser,i=e.unfollowUser,a=e.totalUsersCount,l=e.currentPage,u=e.pageSize,c=e.onPaginationChangeHandler,d=e.followingInProgress,b=a%u===0?a/u:Math.floor(a/u)+1;return Object(O.jsxs)("div",{children:[Object(O.jsx)(f.a,{justify:"center",children:Object(O.jsx)("div",{className:j.a.pagination,children:Object(O.jsx)(w,{currentPage:l,onPaginationChangeHandler:c,pagesCount:b})})}),Object(O.jsxs)(f.a,{children:[Object(O.jsx)("div",{className:j.a.title,children:Object(O.jsx)("span",{style:{fontSize:35},children:"Users"})}),Object(O.jsx)(p.a,{orientation:"center",children:Object(O.jsx)(g.b,{children:Object(O.jsx)(h.a,{type:s?"primary":"dashed",onClick:t,children:s?"Friends Only":"Select friends"})})})]}),Object(O.jsx)(z,{isAuth:n,users:r,followUser:o,unfollowUser:i,followingInProgress:d})]})},F=r(100),S=r(25),k=r(383);function H(e,n){return e===n}function N(e,n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,s=0;s<t;s++)if(!e(n[s],r[s]))return!1;return!0}function M(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return n}var q=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),s=0;s<n;s++)t[s]=arguments[s];var o=0,i=t.pop(),a=M(t),l=e.apply(void 0,[function(){return o++,i.apply(null,arguments)}].concat(r)),u=e((function(){for(var e=[],n=a.length,r=0;r<n;r++)e.push(a[r].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=i,u.dependencies=a,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,r=null,t=null;return function(){return N(n,r,arguments)||(t=e.apply(null,arguments)),r=arguments,t}}));var J=function(e){return e.usersPage.users},R=q((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return null!==e.photos.small}))})),B=function(e){return e.usersPage.pageSize},D=function(e){return e.usersPage.totalUsersCount},E=function(e){return e.usersPage.currentPage},L=function(e){return e.usersPage.isFetching},G=function(e){return e.usersPage.followingInProgress},K=function(e){return e.auth.isAuth},Q=function(e){return e.usersPage.friendsOnly},T=function(e){Object(o.a)(r,e);var n=Object(i.a)(r);function r(){var e;Object(t.a)(this,r);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))).onPaginationChangeHandler=function(n){e.props.changeUsersPage(n,e.props.pageSize)},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"getFriendsOnly",value:function(){this.props.getFriends(this.props.currentPage,this.props.pageSize,!0)}},{key:"render",value:function(){return this.props.isFetching?Object(O.jsx)(F.a,{comment:"Please, wait. Loading users...",size:"large"}):Object(O.jsx)(I,{users:this.props.users,followUser:this.props.followUser,getFriends:this.getFriendsOnly.bind(this),isAuth:this.props.isAuth,friendsOnly:this.props.friendsOnly,unfollowUser:this.props.unfollowUser,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,onPaginationChangeHandler:this.onPaginationChangeHandler,followingInProgress:this.props.followingInProgress})}}]),r}(c.a.Component);n.default=Object(S.d)(k.a,Object(a.b)((function(e){return{isAuth:K(e),friendsOnly:Q(e),users:J(e),pageSize:B(e),totalUsersCount:D(e),currentPage:E(e),isFetching:L(e),followingInProgress:G(e),filteredUsersByPhoto:R(e)}}),{followUser:l.c,unfollowUser:l.f,getUsers:l.e,getFriends:l.d,changeUsersPage:l.a}))(T)}}]);
//# sourceMappingURL=6.32375995.chunk.js.map